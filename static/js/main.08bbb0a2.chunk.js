(this["webpackJsonppantry-test"]=this["webpackJsonppantry-test"]||[]).push([[0],{127:function(e,t,n){e.exports=n(252)},132:function(e,t,n){},138:function(e,t){},140:function(e,t){},151:function(e,t){},153:function(e,t){},178:function(e,t){},180:function(e,t){},181:function(e,t){},187:function(e,t){},189:function(e,t){},207:function(e,t){},210:function(e,t){},226:function(e,t){},229:function(e,t){},252:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(125),i=n.n(r),c=(n(132),n(4)),o=n(5),u=n(7),s=n(6),h=n(25),p=n(3),d=n(19),m=n(46),g=n.n(m),v=n(24),b=n.n(v),f=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={username:"",password:""},e.handleInputChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),b.a.get("".concat(x,"/basket/").concat(e.state.username)).then((function(t){g.a.compare(e.state.password,t.data.password,(function(n,a){if(!a)throw new Error("Username and password dont match");e.props.handleLogin(t.data.username)}))}),(function(){return console.log("Please signup, user cant be found")})).catch((function(e){return console.log(e)}))},e}return Object(o.a)(n,[{key:"render",value:function(){return l.a.createElement("form",null,l.a.createElement("input",{type:"text",name:"username",placeholder:"Username",onChange:this.handleInputChange,value:this.state.username}),l.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:this.handleInputChange,value:this.state.password}),l.a.createElement("button",{onClick:this.handleSubmit},"Login"))}}]),n}(a.Component),E=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={username:"",password:"",passwordRepeat:""},e.handleInputChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.state.password===e.state.passwordRepeat?g.a.hash(e.state.password,10,(function(t,n){b.a.post("".concat(x,"/basket/").concat(e.state.username),{username:e.state.username,password:n,inks:[],pens:[],inkedPens:[]}).then((function(){return e.props.handleLogin(e.state.username)}))})):console.log("Enter same password")},e}return Object(o.a)(n,[{key:"render",value:function(){return l.a.createElement("form",null,l.a.createElement("input",{type:"text",name:"username",placeholder:"Username",onChange:this.handleInputChange,value:this.state.username}),l.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:this.handleInputChange,value:this.state.password}),l.a.createElement("input",{type:"password",name:"passwordRepeat",placeholder:"Repeat Password",onChange:this.handleInputChange,value:this.state.passwordRepeat}),l.a.createElement("button",{onClick:this.handleSubmit},"Signup"))}}]),n}(a.Component),k=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).handleLogin=function(t){localStorage.setItem("loggedInUser",JSON.stringify({username:t})),e.checkUserLoggedIn()},e.checkUserLoggedIn=function(){JSON.parse(localStorage.getItem("loggedInUser"))&&e.props.history.push("/my-pentry")},e.handleSignup=function(){e.props.history.push("/")},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.checkUserLoggedIn()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(f,{handleLogin:this.handleLogin}),"- or -",l.a.createElement(E,{handleLogin:this.handleLogin}))}}]),n}(a.Component),y=n(40),C=n(47),I={brand:"",inkName:"",colorName:"",type:"",size:"",hue:"",props:""},O=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state=I,e.handleInputChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.handleSubmit(e.state),e.setState(I)},e}return Object(o.a)(n,[{key:"render",value:function(){return l.a.createElement("form",null,l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"brand",placeholder:"Brand",onChange:this.handleInputChange,value:this.state.brand})),l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"inkName",placeholder:"Ink Name",onChange:this.handleInputChange,value:this.state.inkName})),l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"colorName",placeholder:"Color Name",onChange:this.handleInputChange,value:this.state.colorName})),l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"type",placeholder:"Type",onChange:this.handleInputChange,value:this.state.type})),l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"size",placeholder:"Size",onChange:this.handleInputChange,value:this.state.size})),l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"hue",placeholder:"Hue",onChange:this.handleInputChange,value:this.state.hue})),l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"props",placeholder:"Properties",onChange:this.handleInputChange,value:this.state.props})),l.a.createElement("button",{onClick:this.handleSubmit},"Add"))}}]),n}(a.Component),j=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"My Inks"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(O,{handleSubmit:this.props.handleSubmit})),l.a.createElement("li",null,l.a.createElement("div",null,"Brand"),l.a.createElement("div",null,"Ink Name"),l.a.createElement("div",null,"Color Name"),l.a.createElement("div",null,"Type"),l.a.createElement("div",null,"Size"),l.a.createElement("div",null,"Hue"),l.a.createElement("div",null,"Properties")),this.props.inks.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement("div",null,e.brand),l.a.createElement("div",null,e.inkName),l.a.createElement("div",null,e.colorName),l.a.createElement("div",null,e.type),l.a.createElement("div",null,e.size),l.a.createElement("div",null,e.hue),l.a.createElement("div",null,e.props))}))))}}]),n}(a.Component),S={brand:"",model:"",finishName:"",nibType:"",nibSize:""},w=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state=S,e.handleInputChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.handleSubmit(e.state),e.setState(S)},e}return Object(o.a)(n,[{key:"render",value:function(){return l.a.createElement("form",null,l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"brand",placeholder:"Brand",onChange:this.handleInputChange,value:this.state.brand})),l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"model",placeholder:"Model Name",onChange:this.handleInputChange,value:this.state.model})),l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"finishName",placeholder:"Finish Name",onChange:this.handleInputChange,value:this.state.finishName})),l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"nibType",placeholder:"Nib Type",onChange:this.handleInputChange,value:this.state.nibType})),l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"nibSize",placeholder:"Nib Size",onChange:this.handleInputChange,value:this.state.nibSize})),l.a.createElement("button",{onClick:this.handleSubmit},"Add"))}}]),n}(a.Component),P=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).checkPenInked=function(t){var n=e.props.inkedPens.filter((function(e){return e.penId===t.id}));return!!n.length&&(!(n.length&&!n[n.length-1].isActive)&&n[n.length-1])},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"My Pens"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(w,{handleSubmit:this.props.handleSubmit})),l.a.createElement("li",null,l.a.createElement("div",null,"Brand"),l.a.createElement("div",null,"Model"),l.a.createElement("div",null,"Finish Name"),l.a.createElement("div",null,"Nib Type"),l.a.createElement("div",null,"Nib Size")),this.props.pens.map((function(t){var n=e.checkPenInked(t);return l.a.createElement("li",{key:t.id},l.a.createElement("div",null,t.brand),l.a.createElement("div",null,t.model),l.a.createElement("div",null,t.finishName),l.a.createElement("div",null,t.nibType),l.a.createElement("div",null,t.nibSize),!n&&l.a.createElement("button",{onClick:function(){return e.props.handlePenInking(t)}},"Ink This Pen"),n&&l.a.createElement("button",{onClick:function(){return e.props.handlePenCleaning(n)}},"Clean This Pen"))}))))}}]),n}(a.Component),N=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={inkChoice:""},e.handleInkChange=function(t){e.setState({inkChoice:t.target.value})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.pen,n=t.brand,a=t.model;return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,n," ",a),l.a.createElement("select",{onChange:this.handleInkChange,value:this.state.inkChoice},l.a.createElement("option",{value:""}),this.props.inks.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.brand," ",e.inkName," ",e.colorName)}))),l.a.createElement("button",{onClick:function(){return e.props.handleInkChoice(e.props.pen.id,e.state.inkChoice)}},"Use This Ink"))}}]),n}(a.Component),D=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={user:JSON.parse(localStorage.getItem("loggedInUser")),inks:[],pens:[],inkedPens:[],inkPen:null},e.handleLogout=function(){localStorage.removeItem("loggedInUser"),e.props.history.push("/")},e.handleInkSubmit=function(t){e.updateData({inks:[Object(y.a)({id:Object(C.a)(),dateAdded:Date.now()},t)]})},e.handlePenSubmit=function(t){e.updateData({pens:[Object(y.a)({id:Object(C.a)(),dateAdded:Date.now()},t)]})},e.handlePenInking=function(t){e.setState({inkPen:t})},e.handleInkChoice=function(t,n){e.updateData({inkedPens:[{id:Object(C.a)(),dateInked:Date.now(),penId:t,inkId:n,isActive:!0}]}),e.setState({inkPen:null})},e.handlePenCleaning=function(t){e.updateData({inkedPens:[Object(y.a)(Object(y.a)({},t),{},{isActive:!1,dateCleaned:Date.now()})]})},e.updateData=function(t){b()({url:"".concat(x,"/basket/").concat(e.state.user.username),method:"PUT",data:t}).then((function(){return e.refreshData()}))},e.refreshData=function(){b.a.get("".concat(x,"/basket/").concat(e.state.user.username)).then((function(t){return e.setState({inks:t.data.inks,pens:t.data.pens,inkedPens:t.data.inkedPens})}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.state.user?this.refreshData():this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=this.props.match.path;return this.state.user?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"Welcome,\xa0",l.a.createElement("strong",null,this.state.user.username),"\xa0 (",l.a.createElement(h.b,{to:"/",onClick:this.handleLogout},"logout"),")"),l.a.createElement(h.b,{to:"".concat(t)},l.a.createElement("h1",null,"Pentry")),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(h.b,{to:"".concat(t,"/inks")},"Inks")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"".concat(t,"/pens")},"Pens"))),l.a.createElement(p.c,null,l.a.createElement(p.a,{path:"".concat(t,"/inks"),render:function(t){return l.a.createElement(j,Object.assign({inks:e.state.inks,handleSubmit:e.handleInkSubmit},t))}}),l.a.createElement(p.a,{path:"".concat(t,"/pens"),render:function(t){return l.a.createElement(P,Object.assign({pens:e.state.pens,inkedPens:e.state.inkedPens,handleSubmit:e.handlePenSubmit,handlePenInking:e.handlePenInking,handlePenCleaning:e.handlePenCleaning},t))}})),this.state.inkPen&&l.a.createElement(N,{pen:this.state.inkPen,inks:this.state.inks,handleInkChoice:this.handleInkChoice})):null}}]),n}(a.Component),x="https://getpantry.cloud/apiv1/pantry/b16a54dc-a92c-45bb-9c52-d1a485046a8f",A=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return l.a.createElement(h.a,null,l.a.createElement(p.c,null,l.a.createElement(p.a,{path:"/",exact:!0,component:k}),l.a.createElement(p.a,{path:"/my-pentry",component:D})))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[127,1,2]]]);
//# sourceMappingURL=main.08bbb0a2.chunk.js.map